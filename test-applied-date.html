<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applied Date Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .job { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .date { font-weight: bold; color: #333; }
    </style>
</head>
<body>
    <h1>Applied Date Test</h1>
    <div id="jobs-container"></div>

    <script>
        // Test applied date formatting and sorting
        const testJobs = [
            { id: 1, position: "Frontend Developer", company: "Tech Corp", appliedAt: "2024-01-15T10:00:00Z" },
            { id: 2, position: "Backend Developer", company: "Code Inc", appliedAt: "2024-01-20T14:30:00Z" },
            { id: 3, position: "Full Stack Developer", company: "Dev Solutions", appliedAt: "2024-01-10T09:15:00Z" },
            { id: 4, position: "Software Engineer", company: "Build Co", appliedAt: null }
        ];

        // Sort jobs by applied date (newest first)
        const sortedJobs = [...testJobs].sort((a, b) => {
            const dateA = a.appliedAt ? new Date(a.appliedAt) : new Date(0);
            const dateB = b.appliedAt ? new Date(b.appliedAt) : new Date(0);
            return dateB - dateA; // Descending order (newest first)
        });

        // Display jobs
        const container = document.getElementById('jobs-container');
        sortedJobs.forEach(job => {
            const jobDiv = document.createElement('div');
            jobDiv.className = 'job';
            
            const formattedDate = job.appliedAt 
                ? new Date(job.appliedAt).toLocaleDateString()
                : '-';
            
            jobDiv.innerHTML = `
                <strong>${job.position}</strong> at ${job.company}<br>
                <span class="date">Applied: ${formattedDate}</span>
            `;
            container.appendChild(jobDiv);
        });

        console.log('Original jobs:', testJobs);
        console.log('Sorted jobs:', sortedJobs);
    </script>
</body>
</html>
